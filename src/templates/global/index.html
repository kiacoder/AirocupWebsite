{% extends "global/base.html" %}

{% block title %}آیروکاپ - مسابقات ملی هوش مصنوعی و رباتیک{% endblock %}
{% block page_title %}آیروکاپ - مسابقات ملی هوش مصنوعی و رباتیک{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
{% endblock %}

{% block body %}

<!-- HERO SECTION -->
<header class="hero-section">
  <div class="container">
    <div class="hero-content">

      <div class="hero-text">

        <div class="university-logo">
          <img
            src="{{ url_for('static', filename=path.sponsors_logos.university) }}"
            alt="لوگوی دانشگاه علم و صنعت ایران، میزبان آیروکاپ"
            width="120"
            height="120"
            style="border-radius: 20px"
          />
        </div>

        <p class="subtitle">دانشگاه علم و صنعت ایران برگزار می‌کند:</p>

        <h1 class="hero-title">مسابقات ملی هوش مصنوعی و رباتیک آیروکاپ</h1>

        <p class="tagline">
          نخستین رویداد ملی با محوریت کامل هوش مصنوعی و رباتیک در ایران
        </p>

        <div class="event-details">
          <p><strong>مرحله اول:</strong> {{ event_details.stage_one }}</p>
          <p><strong>مرحله دوم:</strong> {{ event_details.stage_two }}</p>
        </div>

        {% set total_committee = committee_members|length + technical_committee_members|length %}
        <div class="hero-stats" aria-label="نمای کلی رویداد">
          <div class="stat-card">
            <span class="stat-value">{{ leagues_list|length }}</span>
            <span class="stat-label">لیگ تخصصی</span>
          </div>
          <div class="stat-card">
            <span class="stat-value">{{ total_committee }}</span>
            <span class="stat-label">عضو کمیته</span>
          </div>
          <div class="stat-card">
            <span class="stat-value">۲</span>
            <span class="stat-label">مرحله رقابتی</span>
          </div>
        </div>

        <div class="olympiad-highlight">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="icon"
          >
            <polygon
              points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"
            ></polygon>
          </svg>

          <span>
            <strong>این مرحله، انتخابی المپیاد بین‌المللی هوش مصنوعی COMSTECH است</strong>
          </span>
        </div>

        <div class="cta-buttons">
          {% if 'client_id' in session %}
          <a href="{{ url_for('client.dashboard') }}" class="btn btn-primary btn-large">
            <svg ... class="icon"> ... </svg>
            مشاهده داشبورد
          </a>
          {% else %}
          <a href="{{ url_for('client.signup') }}" class="btn btn-primary btn-large">
            <svg ... class="icon"> ... </svg>
            ثبت‌نام در مسابقات ({{ event_details.registration_deadline }})
          </a>

          <a href="#leagues-section" class="btn btn-secondary">
            <svg ... class="icon"> ... </svg>
            مشاهده لیگ‌ها
          </a>
          {% endif %}
        </div>

      </div>

      <div class="hero-image">
        <img
          src="{{ url_for('static', filename=path.poster) }}"
          alt="پوستر رسمی رویداد آیروکاپ"
          loading="eager"
          fetchpriority="high"
          width="500"
          height="707"
        />
      </div>

    </div>
  </div>
</header>

<!-- ABOUT SECTION -->
<section id="about-section" class="video-section fade-in-element">
  <div class="container">

    <h2 class="section-title">درباره آیروکاپ</h2>

    <p class="section-subtitle">
      مسابقات ملی هوش مصنوعی و رباتیک آیروکاپ (AIROCUP)، رویدادی پیشرو در ایران...
    </p>

    <div
      class="video-wrapper lazy-video"
      data-src="{{ contact.aparat_embed_url }}?recom=self"
      data-title="تیزر رسمی مسابقات"
    >
      <div class="video-play-button" aria-label="پخش تیزر رسمی مسابقات">
        <svg ... class="icon"> ... </svg>
      </div>
    </div>

  </div>
</section>

<!-- LEAGUES SECTION -->
<section id="leagues-section" class="leagues-section fade-in-element">
  <div class="container">

    <h2 class="section-title">لیگ‌های جذاب و نوآورانه</h2>

    <a href="{{ url_for('global.leagues') }}" class="leagues-grid-link-wrapper">
      <div class="leagues-grid">
        {% for item in leagues_list[:9] %}
        <div class="card card-league">
          <div class="league-icon">
            <i class="fas {{ item.icon }}"></i>
          </div>
          <h3>{{ item.name }}</h3>
        </div>
        {% endfor %}
      </div>
    </a>

    <div class="cta-section text-center">
      <a href="{{ url_for('global.leagues') }}" class="btn btn-secondary">
        مشاهده تمام {{ leagues_list|length }} لیگ
        <svg ... class="icon"> ... </svg>
      </a>
    </div>

  </div>
</section>

<!-- SPONSORS -->
<section id="sponsors-section" class="sponsors-section fade-in-element">
  <div class="container">

    <h2 class="section-title">حامیان رسمی</h2>

    <div class="sponsors-grid">
      {% for sponsor in homepage_sponsors %}
      <div class="sponsor-box" title="{{ sponsor.alt_text }}">
        <img src="{{ url_for('static', filename=path.sponsors_logos[sponsor.logo_key]) }}"
             alt="{{ sponsor.alt_text }}" loading="lazy" width="150" height="150" />
      </div>
      {% endfor %}

      <a href="{{ url_for('global.cooperate') }}"
         class="sponsor-box become-sponsor-box"
         aria-label="Become a sponsor">

        <div class="sponsor-plus-icon">
          <svg ... class="icon"> ... </svg>
        </div>

        <span>حامی ما شوید</span>
      </a>

    </div>
  </div>
</section>

<!-- FINAL CTA -->
<section class="final-cta">
  <div class="container">
    <h2>با آیروکاپ، آینده را با هوش مصنوعی کد بزنید</h2>
    <p>به بزرگترین رویداد هوش مصنوعی و رباتیک ایران بپیوندید...</p>

    {% if not 'client_id' in session %}
    <a href="{{ url_for('client.signup') }}" class="btn btn-primary btn-large">
      <svg ... class="icon"> ... </svg>
      همین حالا ثبت‌نام کنید!
    </a>
    {% endif %}
  </div>
</section>

{% endblock %}
