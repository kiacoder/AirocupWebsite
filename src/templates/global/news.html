{% extends "global/base.html" %}

{% block Title %}اخبار و اطلاعیه‌ها | آیروکاپ{% endblock %}

{% block SEO_Description %}
<meta name="description" content="آخرین اخبار، اطلاعیه‌ها و رویدادهای مربوط به مسابقات ملی هوش مصنوعی و رباتیک آیروکاپ. از آخرین تحولات مطلع شوید." />
{% endblock %}

{% block Body %}
<main class="AppContainer NewsPage">
  <div class="Container">
    <header class="PageHeader TextCenter">
      <h1 class="PageTitle">اخبار و اطلاعیه‌ها</h1>
      <p class="PageSubtitle">
        در این بخش آخرین اخبار، اطلاعیه‌ها و رویدادهای مربوط به مسابقات آیروکاپ را دنبال کنید.
      </p>
    </header>

    {% if articles %}
    <div class="NewsGrid">
      {% for article in articles %}
      <div class="Card CardNews {% if loop.first %}CardNews--Featured{% endif %}">
        <a href="{{ url_for('Global.view_article', article_id=article.news_id) }}" class="CardNews__Link" aria-label="ادامه مطلب درباره {{ article.title }}">
          {% if article.image_path %}
          <div class="CardNews__ImageWrapper">
            <img
              src="{{ url_for('Global.uploaded_news_image', filename=article.image_path) }}"
              alt="تصویر خبر: {{ article.title }}"
              loading="lazy"
              width="400"
              height="225"
            />
          </div>
          {% endif %}
          <div class="CardNews__ContentWrapper">
            <h2 class="CardNews__Title">{{ article.title }}</h2>
            <div class="CardNews__Meta">
              <span>
                <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                {{ article.publish_date | formatdate }}
              </span>
            </div>
            <p class="CardNews__Excerpt">
              {{ article.content | striptags | truncate(150) }}
            </p>
            <span class="ReadMoreLink">
              ادامه مطلب
              <i class="fas fa-arrow-left" aria-hidden="true"></i>
            </span>
          </div>
        </a>
      </div>
      {% endfor %}
    </div>
    {% else %}
    <div class="Card EmptyStateCard">
      <i class="fas fa-newspaper EmptyStateIcon"></i>
      <h3>در حال حاضر هیچ خبری برای نمایش وجود ندارد.</h3>
      <p>لطفاً بعداً دوباره به این صفحه سر بزنید.</p>
    </div>
    {% endif %}
  </div>
</main>
{% endblock %}