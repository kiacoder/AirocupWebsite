{# Partial template reused across team member forms #}
<div class="form-grid">
  <div class="form-group">
    <label for="{{ id_prefix }}name"
      >نام و نام خانوادگی <span class="required-star">*</span></label
    >
    <input
      id="{{ id_prefix }}name"
      name="name"
      type="text"
      class="form-control"
      required
      value="{{ form_data.name if form_data else (member_data.name if member_data else '') }}"
    />
  </div>

  <div class="form-group">
    <label for="{{ id_prefix }}national_id"
      >کد ملی <span class="required-star">*</span></label
    >
    <input
      id="{{ id_prefix }}national_id"
      name="national_id"
      type="text"
      class="form-control"
      inputmode="numeric"
      maxlength="10"
      required
      dir="ltr"
      value="{{ form_data.national_id if form_data else (member_data.national_id if member_data else '') }}"
    />
  </div>
</div>

<div class="form-grid">
  <div class="form-group">
    <label for="{{ id_prefix }}role"
      >نقش در تیم <span class="required-star">*</span></label
    >
    {% set current_role = form_data.role if form_data else (member_data.role.value if member_data and member_data.role else '') %}
    <select
      id="{{ id_prefix }}role"
      name="role"
      class="form-control"
      required
    >
      <option value="">انتخاب کنید...</option>
      <option value="member" {% if current_role == 'member' %}selected{% endif %}>عضو</option>
      <option value="coach" {% if current_role == 'coach' %}selected{% endif %}>مربی</option>
      <option value="leader" {% if current_role == 'leader' %}selected{% endif %}>سرپرست</option>
    </select>
  </div>
</div>

<div class="form-grid">
  <div class="form-group">
    <label for="{{ id_prefix }}province"
      >استان <span class="required-star">*</span></label
    >
    <select
      id="{{ id_prefix }}province"
      name="province"
      class="form-control"
      required
      data-initial-value="{{ form_data.province if form_data else (member_data.city.province.name if member_data and member_data.city else '') }}"
    >
      <option value="">در حال بارگذاری...</option>
    </select>
  </div>

  <div class="form-group">
    <label for="{{ id_prefix }}city"
      >شهر <span class="required-star">*</span></label
    >
    <select
      id="{{ id_prefix }}city"
      name="city"
      class="form-control"
      required
      data-initial-value="{{ form_data.city if form_data else (member_data.city.name if member_data and member_data.city else '') }}"
    >
      <option value="">ابتدا استان را انتخاب کنید</option>
    </select>
  </div>
</div>

<div class="form-group">
  <label>تاریخ تولد <span class="required-star">*</span></label>
  {% set birth_parts =
    [
      form_data.birth_year if form_data else (member_data.birth_date|formatdate|split('-'))[0] if member_data and member_data.birth_date else '',
      form_data.birth_month if form_data else (member_data.birth_date|formatdate|split('-'))[1] if member_data and member_data.birth_date else '',
      form_data.birth_day if form_data else (member_data.birth_date|formatdate|split('-'))[2] if member_data and member_data.birth_date else ''
    ]
  %}
  <div
    class="datepicker-group"
    data-birth-year="{{ birth_parts[0] }}"
    data-birth-month="{{ birth_parts[1] }}"
    data-birth-day="{{ birth_parts[2] }}"
  >
    <select id="{{ id_prefix }}birth_day" name="birth_day" class="form-control" required>
      <option value="">روز</option>
    </select>
    <select id="{{ id_prefix }}birth_month" name="birth_month" class="form-control" required>
      <option value="">ماه</option>
    </select>
    <select id="{{ id_prefix }}birth_year" name="birth_year" class="form-control" required>
      <option value="">سال</option>
    </select>
  </div>
</div>
