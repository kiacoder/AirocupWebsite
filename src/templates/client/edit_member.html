{% extends "global/base.html" %}

{% block title %}ویرایش عضو: {{ member.name or 'عضو' }}{% endblock %}

{% block body %}
<div class="container" style="margin: 2rem auto">
  <div class="form-container">
    <form
      method="POST"
      action="{{ url_for('client.edit_member', team_id=team.team_id, member_id=member.member_id) }}"
      id="edit-member-form"
      novalidate
    >
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />

      <h1 class="form-title">ویرایش عضو: {{ member.name or 'عضو' }}</h1>
      <p class="form-subtitle">اطلاعات عضو تیم {{ team.team_name }} را ویرایش کنید.</p>

      <fieldset
        style="
          border: 1px solid var(--color-border);
          padding: 1.5rem;
          border-radius: var(--border-radius);
        "
      >
        <legend style="font-weight: 700; color: var(--color-primary)">اطلاعات عضو</legend>
        {% with id_prefix='edit-', member_data=member, form_data=request.form %}
          {% include 'client/member_form_fields.html' %}
        {% endwith %}
      </fieldset>

      <div class="form-group">
        <button type="submit" id="submitBtn" class="btn btn-primary btn--full-width">
          ذخیره تغییرات
        </button>
      </div>
    </form>

    <div style="text-align: center; margin-top: 1.5rem">
      <a href="{{ url_for('client.manage_members', team_id=team.team_id) }}" class="btn btn-secondary">
        انصراف و بازگشت به لیست اعضا
      </a>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
  {{ super() }}
{% endblock %}
