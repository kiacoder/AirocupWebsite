<div class="FormGrid">
    <div class="FormGroup">
        <label for="{{ IdPrefix }}Name">نام و نام خانوادگی:<span class="RequiredStar">*</span></label>
        <input id="{{ IdPrefix }}Name" name="Name" type="text" class="FormControl" required value="{{ FormData.Name if FormData else (MemberData.Name if MemberData else '') }}" />
    </div>
    <div class="FormGroup">
        <label for="{{ IdPrefix }}NationalID">کد ملی:<span class="RequiredStar">*</span></label>
        <input id="{{ IdPrefix }}NationalID" name="NationalID" type="text" class="FormControl" inputmode="numeric" maxlength="10" required value="{{ FormData.NationalID if FormData else (MemberData.NationalID if MemberData else '') }}" dir="ltr" />
    </div>
</div>

<div class="FormGrid">
    <div class="FormGroup">
        <label for="{{ IdPrefix }}Role">نقش در تیم:<span class="RequiredStar">*</span></label>
        <select id="{{ IdPrefix }}Role" name="Role" class="FormControl" required>
            <option value="">انتخاب کنید...</option>
            {% set current_role = FormData.Role if FormData else (MemberData.Role.value if MemberData else '') %}
            <option value="{{ Models.MemberRole.Member.value }}" {% if current_role == Models.MemberRole.Member.value %}selected{% endif %}>{{ Models.MemberRole.Member.label }}</option>
            <option value="{{ Models.MemberRole.Coach.value }}" {% if current_role == Models.MemberRole.Coach.value %}selected{% endif %}>{{ Models.MemberRole.Coach.label }}</option>
            <option value="{{ Models.MemberRole.Leader.value }}" {% if current_role == Models.MemberRole.Leader.value %}selected{% endif %}>{{ Models.MemberRole.Leader.label }}</option>
        </select>
    </div>
</div>

<div class="FormGrid">
    <div class="FormGroup">
        <label for="{{ IdPrefix }}Province">استان:<span class="RequiredStar">*</span></label>
        <select id="{{ IdPrefix }}Province" name="Province" class="FormControl" required>
            <option value="">انتخاب کنید...</option>
            {% set current_province = FormData.Province if FormData else (MemberData.City.Province.Name if MemberData and MemberData.City else '') %}
            {% for province_name in Provinces.keys() %}
                <option value="{{ province_name }}" {% if current_province == province_name %}selected{% endif %}>{{ province_name }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="FormGroup">
        <label for="{{ IdPrefix }}City">شهر:<span class="RequiredStar">*</span></label>
        <select id="{{ IdPrefix }}City" name="City" class="FormControl" required data-initial-city="{{ FormData.City if FormData else (MemberData.City.Name if MemberData and MemberData.City else '') }}">
            <option value="">ابتدا استان را انتخاب کنید</option>
        </select>
    </div>
</div>

<div class="FormGroup">
    <label>تاریخ تولد<span class="RequiredStar">*</span></label>
    <div class="DatepickerGroup">
        {% set b_year = FormData.BirthYear if FormData else (MemberData.BirthDate.year if MemberData else '') %}
        {% set b_month = FormData.BirthMonth if FormData else (MemberData.BirthDate.month if MemberData else '') %}
        {% set b_day = FormData.BirthDay if FormData else (MemberData.BirthDate.day if MemberData else '') %}
        
        <select id="{{ IdPrefix }}BirthDay" name="BirthDay" class="FormControl" required>
            <option value="">روز</option>
            {% for day_num in range(1, 32) %}
                <option value="{{ day_num }}" {% if b_day and b_day|int == day_num %}selected{% endif %}>{{ day_num | persian_digits }}</option>
            {% endfor %}
        </select>
        <select id="{{ IdPrefix }}BirthMonth" name="BirthMonth" class="FormControl" required>
            <option value="">ماه</option>
            {% for month_num, month_name in PersianMonths.items() %}
                <option value="{{ month_num }}" {% if b_month and b_month|int == month_num %}selected{% endif %}>{{ month_name }}</option>
            {% endfor %}
        </select>
        <select id="{{ IdPrefix }}BirthYear" name="BirthYear" class="FormControl" required>
            <option value="">سال</option>
            {% for year_num in AllowedYears %}
                <option value="{{ year_num }}" {% if b_year and b_year|int == year_num %}selected{% endif %}>{{ year_num | persian_digits }}</option>
            {% endfor %}
        </select>
    </div>
</div>