<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <link
      rel="manifest"
      href="{{ url_for('static', filename=Path.URLs.Files.SiteWebManifest) }}"
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    {% set _is_admin = is_admin if (is_admin is defined) else (request.blueprint
    == 'admin' if request is defined else False) %}
    <meta
      name="robots"
      content="{{ 'noindex, nofollow' if _is_admin else (robots if robots is defined else 'index, follow') }}"
    />

    <title>
      {% block Title %} {% if _is_admin %} پنل مدیریت آیروکاپ {% else %} {{
      page_title if page_title is defined else 'آیروکاپ' }} {% endif %} {%
      endblock %}
    </title>
    {% block HTMLTitle %}{% endblock %}{% if not _is_admin %}

    <meta
      name="description"
      content="{{ seo_description if seo_description is defined else '...' }}"
    />
    <meta
      name="keywords"
      content="{{ seo_keywords if seo_keywords is defined else 'آیروکاپ, مسابقات هوش مصنوعی, رباتیک, مسابقات ملی, Airocup, AI competitions, robotics, national competitions, الذكاء الاصطناعي, الروبوتات, المسابقات الوطنية' }}"
    />
    <meta name="author" content="Airocup" />
    <meta name="theme-color" content="#7b4baa" />

    <meta property="og:title" content="{{ page_title|striptags|trim }}" />
    <meta
      property="og:description"
      content="{{ seo_description if seo_description is defined else 'به بزرگترین رویداد هوش مصنوعی و رباتیک ایران به میزبانی دانشگاه علم و صنعت ایران بپیوندید.' }}"
    />
    {% if Path is defined and Path.SolidLogos is defined %}
    <meta
      property="og:image"
      content="{{ url_for('static', filename=Path.SolidLogos['SolidPurpleGlow'], _external=True) }}"
    />
    <meta
      name="twitter:image"
      content="{{ url_for('static', filename=Path.SolidLogos['SolidPurpleGlow'], _external=True) }}"
    />
    {% endif %}
    <meta
      property="og:url"
      content="{{ request.base_url if request is defined else '' }}"
    />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="fa_IR" />
    <meta property="og:site_name" content="آیروکاپ" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="{{ page_title|striptags|trim }}" />
    <meta
      name="twitter:description"
      content="{{ seo_description if seo_description is defined else 'آیروکاپ، نخستین رویداد ملی هوش مصنوعی و رباتیک ایران' }}"
    />
    {% if Contact is defined and Contact.Instagram %}
    <meta name="twitter:site" content="{{ Contact.Instagram }}" />
    {% endif %}

    <link
      rel="canonical"
      href="{{ request.base_url if request is defined else '' }}"
    />
    <link
      rel="alternate"
      href="{{ request.base_url if request is defined else '' }}"
      hreflang="fa-IR"
    />
    {% endif %}
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin />
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com" />

    <link
      rel="stylesheet"
      href="{{ url_for('static', filename=Path.URLs.CSS_Style) }}"
    />

    {% if not _is_admin and Path is defined and Path.SolidLogos is defined %}
    <link
      rel="icon"
      href="{{ url_for('static', filename=Path.SolidLogos['SolidWhiteFavicon']) }}"
      type="image/x-icon"
    />
    <link
      rel="icon"
      type="image/png"
      href="{{ url_for('static', filename=Path.SolidLogos['MainFest 192']) }}"
    />
    <link
      rel="apple-touch-icon"
      href="{{ url_for('static', filename=Path.SolidLogos['MainFest 192']) }}"
    />
    {% endif %}

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    {% block Head %}{% endblock %}
  </head>

  <body
    class="{{ 'AdminBody' if _is_admin else 'ClientPage' }}"
    {%
    if
    not
    _is_admin
    %}
    data-client-id="{{ session.get('Client ID', '') }}"
    {%
    endif
    %}
  >
    {% if _is_admin %}
    <header class="AdminHeader">
      <div class="AdminHeader__container">
        <a href="{{ url_for('admin.admin_dashboard') }}" class="AdminHeader__logo"
          >پنل مدیریت آیروکاپ</a
        >
        <nav class="AdminHeader__nav" id="admin-nav">
          <a href="{{ url_for('admin.admin_dashboard') }}">داشبورد</a>
          <a href="{{ url_for('AdminManageClients') }}">کاربران</a>
          <a href="{{ url_for('AdminManageTeams') }}">تیم‌ها</a>
          <a href="{{ url_for('AdminManageNews') }}">اخبار</a>
          <a href="{{ url_for('Logout') }}" class="Btn BtnSecondary">خروج</a>
        </nav>
        <button
          class="AdminHeader__mobile-toggle"
          aria-controls="admin-nav"
          aria-expanded="false"
        >
          <i class="fas fa-bars"></i>
        </button>
      </div>
    </header>
    {% else %}
    <header class="SiteHeader" role="banner">
      <div class="TopHeader Container">
        <div class="Logo" itemscope itemtype="https://schema.org/Organization">
          <a href="{{ url_for('Global.index') }}" itemprop="url">
            {% if Path is defined and Path.TransparentLogos is defined %}
            <img
              src="{{ url_for('static', filename=Path.TransparentLogos['TransparentWhite']) }}"
              alt="لوگو آیروکاپ - مسابقات ملی هوش مصنوعی و رباتیک"
              itemprop="logo"
            />
            {% else %}
            <span class="SiteTitle">آیروکاپ</span>
            {% endif %}
          </a>
        </div>
        <nav class="MainNav" aria-label="منوی اصلی سایت" role="navigation">
          <ul id="MainNav" class="NavItems">
            <li>
              <a
                href="{{ url_for('Global.index') }}"
                class="{{ 'Active' if (request is defined and request.endpoint == 'Global.index') else '' }}"
              >
                صفحه اصلی
              </a>
            </li>
            <li>
              <a
                href="{{ url_for('Leagues') }}"
                class="{{ 'Active' if (request is defined and request.endpoint == 'Leagues') else '' }}"
              >
                لیگ‌ها
              </a>
            </li>
            <li>
              <a
                href="{{ url_for('Committee') }}"
                class="{{ 'Active' if (request is defined and request.endpoint == 'Committee') else '' }}"
              >
                کمیته
              </a>
            </li>
            <li>
              <a
                href="{{ url_for('Sponsors') }}"
                class="{{ 'Active' if (request is defined and request.endpoint == 'Sponsors') else '' }}"
              >
                حامیان
              </a>
            </li>
            <li>
              <a
                href="{{ url_for('Gallery') }}"
                class="{{ 'Active' if (request is defined and request.endpoint == 'Gallery') else '' }}"
              >
                گالری
              </a>
            </li>
            <li>
              <a
                href="{{ url_for('News') }}"
                class="{{ 'Active' if (request is defined and request.endpoint == 'News') else '' }}"
              >
                اخبار
              </a>
            </li>
            <li>
              <a
                href="{{ url_for('About') }}"
                class="{{ 'Active' if (request is defined and request.endpoint == 'About') else '' }}"
              >
                درباره ما
              </a>
            </li>
            <li>
              <a
                href="{{ url_for('Contact') }}"
                class="{{ 'Active' if (request is defined and request.endpoint == 'Contact') else '' }}"
              >
                تماس با ما
              </a>
            </li>

            <div class="NavActionItems">
              {% if 'Client ID' in session %}
              <a href="{{ url_for('Dashboard') }}" class="Btn BtnSecondary"
                >داشبورد</a
              >
              <a href="{{ url_for('SupportChat') }}" class="Btn BtnPrimary"
                >پشتیبانی</a
              >
              {% else %}
              <a href="{{ url_for('Login') }}" class="Btn BtnSecondary">ورود</a>
              <a href="{{ url_for('SignUp') }}" class="Btn BtnPrimary"
                >ثبت نام</a
              >
              {% endif %}
            </div>
          </ul>
        </nav>

        <div class="HeaderRight">
          <div class="UserActions">
            {% if 'Client ID' in session %}
            <a href="{{ url_for('Dashboard') }}" class="Btn BtnSecondary"
              >داشبورد</a
            >
            <a href="{{ url_for('SupportChat') }}" class="Btn BtnPrimary"
              >پشتیبانی</a
            >
            {% else %}
            <a href="{{ url_for('Login') }}" class="Btn BtnSecondary">ورود</a>
            <a href="{{ url_for('SignUp') }}" class="Btn BtnPrimary">ثبت نام</a>
            {% endif %}
          </div>
          <button
            class="MobileMenuBtn"
            aria-label="منوی موبایل"
            aria-expanded="false"
            aria-controls="MainNav"
          >
            <i
              class="fas fa-bars"
              aria-hidden="true"
              style="font-size: 1.5rem"
            ></i>
          </button>
        </div>
      </div>
    </header>
    {% endif %} {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    <div id="FlashContainer" aria-live="polite" aria-atomic="true">
      {% set category_map = { 'Success': {'icon': 'fa-check-circle', 'class':
      'FlashSuccess'}, 'Error': {'icon': 'fa-exclamation-triangle', 'class':
      'FlashError'}, 'Warning': {'icon': 'fa-exclamation-circle', 'class':
      'FlashWarning'}, 'Info': {'icon': 'fa-info-circle', 'class': 'FlashInfo'}
      } %} {% for category, message in messages %} {% set flash =
      category_map.get(category, category_map['Info']) %}
      <div class="FlashMessage {{ flash.class }}" role="alert">
        <i class="fas {{ flash.icon }}" aria-hidden="true"></i>
        <span>{{ message }}</span>
        <button
          class="FlashCloseBtn"
          data-action="dismiss-flash"
          aria-label="بستن اعلان"
        >
          &times;
        </button>
      </div>
      {% endfor %}
    </div>
    {% endif %} {% endwith %}

    <main class="MainContent">{% block Body %}{% endblock %}</main>

    {% if not _is_admin %}
    <footer class="SiteFooter" role="contentinfo">
      <div class="Container">
        <div class="FooterContent">
          <div
            class="FooterAbout"
            itemscope
            itemtype="https://schema.org/Organization"
          >
            <a href="{{ url_for('Global.index') }}" class="FooterLogo" itemprop="url">
              {% if Path is defined and Path.TransparentLogos is defined %}
              <img
                src="{{ url_for('static', filename=Path.TransparentLogos['TransparentWhite']) }}"
                alt="لوگو آیروکاپ در فوتر - مسابقات ملی هوش مصنوعی"
                itemprop="logo"
              />
              {% else %}
              <span class="FooterTitle">آیروکاپ</span>
              {% endif %}
            </a>
            <p itemprop="description">
              آیروکاپ، پیشگام در آینده هوشمند ایران. نخستین رویداد ملی با محوریت
              کامل هوش مصنوعی و رباتیک.
            </p>
          </div>
          <div class="FooterLinks">
            <h3>دسترسی سریع</h3>
            <ul>
              <li><a href="{{ url_for('Global.index') }}">صفحه اصلی</a></li>
              <li><a href="{{ url_for('Leagues') }}">لیگ‌ها</a></li>
              <li><a href="{{ url_for('SignUp') }}">ثبت نام</a></li>
              <li><a href="{{ url_for('Login') }}">ورود</a></li>
              <li><a href="{{ url_for('Cooperate') }}">همکاری با ما</a></li>
            </ul>
          </div>
          <div
            class="FooterContact"
            itemscope
            itemtype="https://schema.org/ContactPoint"
          >
            <h3>اطلاعات تماس</h3>
            <address
              itemprop="address"
              itemscope
              itemtype="https://schema.org/PostalAddress"
            >
              <p itemprop="streetAddress">
                <i class="fas fa-map-marker-alt"></i> تهران، دانشگاه علم و صنعت
                ایران
              </p>
              <p itemprop="telephone">
                <i class="fas fa-phone"></i> {{ Contact.Phone if Contact is
                defined else '' }}
              </p>
            </address>
            <div class="SocialMedia">
              {% if Contact is defined and Contact.Instagram %}
              <a
                href="https://instagram.com/{{ Contact.Instagram|replace('@','') }}"
                title="صفحه اینستاگرام آیروکاپ"
                target="_blank"
                rel="noopener noreferrer nofollow"
                itemprop="sameAs"
                ><i class="fab fa-instagram"></i
              ></a>
              {% endif %} {% if Contact is defined and Contact.Bale %}
              <a
                href="{{ Contact.Bale }}"
                title="کانال بله آیروکاپ"
                target="_blank"
                rel="noopener noreferrer nofollow"
                itemprop="sameAs"
                ><i class="fas fa-comment-dots"></i
              ></a>
              {% endif %} {% if Contact is defined and Contact.AparatPlaylist %}
              <a
                href="{{ Contact.AparatPlaylist }}"
                title="کانال آپارات آیروکاپ"
                target="_blank"
                rel="noopener noreferrer nofollow"
                itemprop="sameAs"
                ><i class="fas fa-play-circle"></i
              ></a>
              {% endif %}
            </div>
          </div>
        </div>
        <div class="Copyright">
          <p>
            &copy; {{ JDateTime.datetime.now().year if JDateTime is defined else
            '' }} تمامی حقوق برای آیروکاپ محفوظ است.
          </p>
        </div>
      </div>
    </footer>
    {% endif %}

    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js" defer></script>
    <script
      src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"
      defer
    ></script>

    {% if not _is_admin %}
    <script>
      window.AirocupData = {{ AirocupData | default({}) | tojson | safe }};
    </script>
    {% endif %}
    <script
      src="{{ url_for('static', filename=Path.URLs.JS_Main) }}"
      defer
    ></script>

    {% block Scripts %}{% endblock %}
  </body>
</html>